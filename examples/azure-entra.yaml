# Azure Entra ID (formerly Azure AD) OIDC Configuration Example

server:
  host: "0.0.0.0"
  port: 8080
  base_url: "https://sso.example.com"
  cookie_domain: ".example.com"
  cookie_secure: true
  session_ttl: "24h"

backend:
  url: "http://backend-service:8000"
  timeout: "30s"

cache:
  type: "memory"

providers:
  - id: "azure"
    name: "Azure Entra ID"
    type: "oidc"
    oidc:
      # Replace {tenant-id} with your Azure AD tenant ID or "common" for multi-tenant
      issuer: "https://login.microsoftonline.com/{tenant-id}/v2.0"
      # Get these from Azure Portal > App registrations
      client_id: "your-application-client-id"
      client_secret: "your-client-secret"
      scopes:
        - "openid"
        - "profile"
        - "email"
        # Optional: request additional scopes
        # - "User.Read"
    header_mappings:
      email: "X-User-Email"
      name: "X-User-Name"
      preferred_username: "X-User-Username"
      sub: "X-User-ID"
      # Azure AD group claims (requires app configuration)
      groups: "X-User-Groups"
      # Additional claims
      given_name: "X-User-FirstName"
      family_name: "X-User-LastName"

logging:
  level: "info"
  format: "json"

# Environment variable overrides:
# azure_CLIENT_ID=your-client-id
# azure_CLIENT_SECRET=your-client-secret
